{
  "$id": "/schema/baseSchema",
  "type": "object",
  "properties": {
    "client_side_checksum": {
      "type": "string",
      "minLength": 64,
      "maximum": 64
    },
    "file_size": {
      "type": "integer",
      "minimum": 0
    },
    "UUID": {
      "type": "string",
      "format": "uuid"
    },
    "file_path": {
      "description": "The path to the file obtained from the client side.",
      "type": "string",
      "minLength": 1
    },
    "date_last_modified": {
      "description": "The date the file was last modified",
      "type": "string",
      "format": "date"
    },
    "description": {
      "description": "The description of the record that will be displayed to the public",
      "type": [
        "string",
        "null"
      ],
      "maxLength": 8000
    },
    "end_date": {
      "description": "The date the record ends",
      "type": [
        "string",
        "null"
      ],
      "format": "date",
      "daBeforeToday": "Validates that end date is earlier than today's date"
    },
    "date_created": {
      "description": "The date the record was created",
      "type": [
        "string",
        "null"
      ],
      "format": "date"
    },
    "date_range": {
      "description": "The date range of the record",
      "type": [
        "string",
        "null"
      ]
    },
    "start_date": {
      "description": "The date the record starts",
      "type": [
        "string",
        "null"
      ],
      "format": "date"
    },
    "creating_body": {
      "description": "The creating body of the record",
      "type": [
        "string",
        "null"
      ]
    },
    "file_name_language": {
      "description": "The language of the original title of the record",
      "type": [
        "string",
        "null"
      ]
    },
    "file_name_translation_language": {
      "description": "The language of the translated title of the record",
      "type": [
        "string",
        "null"
      ]
    },
    "file_name_translation": {
      "description": "The translated title of the record that will be displayed to the public",
      "type": [
        "string",
        "null"
      ],
      "maxLength": 255,
      "pattern": "^[^\\r\\n]*$"
    },
    "file_name": {
      "description": "The name of the file obtained from the client side. Will be displayed to the public as the description if no description is provided",
      "type": "string",
      "minLength": 1
    },
    "language": {
      "description": "The language of the record",
      "type": "array",
      "items": {
        "type": "string",
        "$ref": "classpath:/metadata-schema/definitionsSchema.schema.json#/definitions/languages"
      }
    },
    "description_alternate": {
      "description": "The alternative description of the record that will be displayed to the public if the description is sensitive. This is only provided if the record is Closed",
      "type": [
        "string",
        "null"
      ],
      "maxLength": 8000
    },
    "description_closed": {
      "description": "Indicates if the description is sensitive",
      "type": "boolean"
    },
    "foi_exemption_asserted": {
      "description": "The date the FOI exemption was asserted",
      "type": [
        "string",
        "null"
      ],
      "format": "date",
      "daBeforeToday": "Validates that FOI Exemption Asserted Date is before today's date"
    },
    "foi_exemption_code": {
      "description": "The foi exemption code/s There can be multiple codes that will be separated by a '|' character in the CSV file. This is only provided if the record is Closed",
      "type": [
        "array",
        "null"
      ],
      "items": {
        "type": "string",
        "$ref": "classpath:/metadata-schema/definitionsSchema.schema.json#/definitions/foi_codes"
      }
    },
    "closure_type": {
      "description": "Is the record Open or Closed. This is a mandatory field",
      "type": "string",
      "$ref": "classpath:/metadata-schema/definitionsSchema.schema.json#/definitions/closure_types"
    },
    "closure_period": {
      "description": "A list of the number (1-150) of years closure for each foi exemption code, in corresponding order. This is only provided if the record is Closed",
      "type": [
        "array",
        "null"
      ],
      "items": {
        "type": "integer",
        "minimum": 1,
        "maximum": 150
      }
    },
    "closure_start_date": {
      "description": "The date the record is closed from. This is only provided if the record is Closed",
      "type": [
        "string",
        "null"
      ],
      "format": "date",
      "daBeforeToday": "Validates that closure start date is earlier than today's date",
      "matchEndDateOrDateLastModified": "Must match end_date or its year's Dec 31 if end_date exists; otherwise must match date_last_modified or its year's Dec 31"
    },
    "title_closed": {
      "description": "Indicates if the title is sensitive. This is only provided if the record is Closed",
      "type": "boolean"
    },
    "title_alternate": {
      "description": "The alternative title of the record that will be displayed to the public if the title is sensitive",
      "type": [
        "string",
        "null"
      ],
      "maxLength": 255,
      "pattern": "^[^\\r\\n]*$"
    },
    "former_reference_department": {
      "description": "The former reference of the department",
      "type": [
        "string",
        "null"
      ],
      "maxLength": 255,
      "pattern": "^[^\\r\\n]*$"
    },
    "file_reference": {
      "description": "Human readable reference for the file",
      "type": [
        "string",
        "null"
      ]
    },
    "file_type": {
      "description": "Whether type is a file or folder",
      "type": "string",
      "$ref": "classpath:/metadata-schema/definitionsSchema.schema.json#/definitions/file_types"
    },
    "parent_reference": {
      "description": "Human readable reference for the file's parent folder",
      "type": [
        "string",
        "null"
      ]
    },
    "original_identifier": {
      "description": "The original filepath of a redacted file",
      "type": [
        "string",
        "null"
      ]
    },
    "legal_status": {
      "description": "The legal status of the file",
      "type": "string",
      "$ref": "classpath:/metadata-schema/definitionsSchema.schema.json#/definitions/legal_statuses"
    },
    "held_by": {
      "description": "Who holds the digital copy",
      "type": "string",
      "$ref": "classpath:/metadata-schema/definitionsSchema.schema.json#/definitions/held_by"
    },
    "rights_copyright": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "string",
        "$ref": "classpath:/metadata-schema/definitionsSchema.schema.json#/definitions/copyrights"
      },
      "if": {
        "contains": {
          "const": "Unknown"
        }
      },
      "then": {
        "minItems": 1,
        "maxItems": 1
      }
    },
    "restrictions_on_use": {
      "description": "Can be used to include specific information about copyright conditions",
      "type": [
        "string",
        "null"
      ],
      "maxLength": 500
    },
    "related_material": {
      "description": "Required to support a transfer of digital records for which paper copies of some records have already been transferred.",
      "type": [
        "string",
        "null"
      ],
      "maxLength": 255
    },
    "server_side_checksum": {
      "description": "Checksum generated on copy of file uploaded to TDR, used for file integrity check",
      "type": "string",
      "minLength": 64,
      "maximum": 64
    },
    "judgment_type": {
      "description": "Judgment transfer only - whether the file is a judgment or a press summary",
      "type": "string",
      "$ref": "classpath:/metadata-schema/definitionsSchema.schema.json#/definitions/judgment_types"
    },
    "judgment_update": {
      "description": "Judgment transfer only - whether the file is an update to a previous judgment",
      "type": [
        "boolean",
        "null"
      ]
    },
    "judgment_update_type": {
      "description": "Judgment transfer only - type of update to a previous judgment",
      "type": [
        "array",
        "null"
      ],
      "items": {
        "type": "string",
        "$ref": "classpath:/metadata-schema/definitionsSchema.schema.json#/definitions/judgment_update_types"
      }
    },
    "judgment_update_details": {
      "description": "Judgment transfer only - details of the update to a previous judgment",
      "type": [
        "string",
        "null"
      ],
      "maxLength": 1000
    },
    "judgment_neutral_citation": {
      "description": "Judgment transfer only - whether the file is an update to a previous judgment",
      "type": [
        "string",
        "null"
      ],
      "maxLength": 100,
      "minLength": 10
    },
    "judgment_no_neutral_citation": {
      "description": "Judgment transfer only - whether the file has no neutral citation",
      "type": [
        "boolean",
        "null"
      ]
    },
    "judgment_reference": {
      "description": "Judgment transfer only - the reference of the judgment",
      "type": [
        "string",
        "null"
      ],
      "maxLength": 500
    },
    "evidence_provided_by": {
      "description": "Common field in enquiries",
      "type": [
        "string",
        "null"
      ],
      "maxLength": 255,
      "pattern": "^[^\\r\\n]*$"
    },
    "note": {
      "description": "Specialised information that does not fit in any other field",
      "type": [
        "string",
        "null"
      ],
      "maxLength": 1000
    },
    "copyright_details": {
      "description": "List specific copyright holders separated by semi-colons, or provide pre-agreed specific wording. Will be published on Discovery as ‘Restrictions on Use’.",
      "type": [
        "string",
        "null"
      ],
      "maxLength": 255,
      "pattern": "^[^\\r\\n]*$"
    }
  }
}
