{
  "$id": "/schema/relationship",
  "type": "object",
  "allOf": [
    {
      "if": {
        "required": ["description_alternate"],
        "properties": {
          "description_alternate": {
            "type": "string",
            "minLength": 1
          }
        }
      },
      "then": {
        "properties": {
          "description": {
            "type": "string",
            "minLength": 1
          }
        },
        "required": [
          "description"
        ]
      }
    },
    {
      "if": {
        "properties": {
          "judgment_update": {
            "const": true
          }
        },
        "required": ["judgment_update"]
      },
      "then": {
        "properties": {
          "judgment_update_type": {
            "type": "array",
            "minItems": 1,
            "items": {
              "type": "string",
              "$ref": "classpath:/metadata-schema/definitionsSchema.schema.json#/definitions/judgment_update_types"
            }
          }
        },
        "required": ["judgment_update_type"]
      }
    },
    {
      "if": {
        "properties": {
          "judgment_no_neutral_citation": {
            "const": true
          }
        },
        "required": ["judgment_no_neutral_citation"]
      },
      "then": {
        "properties": {
          "judgment_neutral_citation": {
            "not": {
              "type": "string",
              "minLength": 1
            }
          }
        }
      }
    },
    {
      "if": {
        "properties": {
          "judgment_neutral_citation": {
            "type": "string",
            "minLength": 1
          }
        },
        "required": ["judgment_neutral_citation"]
      },
      "then": {
        "properties": {
          "judgment_no_neutral_citation": {
            "const": false
          }
        },
        "required": ["judgment_no_neutral_citation"]
      }
    },
    {
      "if": {
        "properties": {
          "judgment_no_neutral_citation": {
            "const": false
          }
        },
        "required": ["judgment_no_neutral_citation"]
      },
      "then": {
        "properties": {
          "judgment_neutral_citation": {
            "type": "string",
            "minLength": 0
          }
        },
        "required": ["judgment_neutral_citation"]
      }
    }
  ]
}
